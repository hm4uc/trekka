<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/client/docs/I18N_DOCUMENTATION.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/client/docs/I18N_DOCUMENTATION.md" />
              <option name="updatedContent" value="# Hệ Thống i18n (Internationalization) - Trekka App&#10;&#10;##  Tổng quan&#10;&#10;Ứng dụng Trekka đã được tích hợp hoàn chỉnh hệ thống đa ngôn ngữ (i18n) hỗ trợ:&#10;-  **Tiếng Việt** (mặc định)&#10;-  **English**&#10;&#10;##  Package sử dụng&#10;&#10;```yaml&#10;dependencies:&#10;  flutter_localizations:&#10;    sdk: flutter&#10;  easy_localization: ^3.0.7&#10;```&#10;&#10;##  Cấu trúc thư mục&#10;&#10;```&#10;trekka/client/&#10;├── assets/&#10;│   └── translations/&#10;│       ├── vi.json          # Tiếng Việt&#10;│       └── en.json          # English&#10;├── lib/&#10;│   ├── core/&#10;│   │   └── i18n/&#10;│   │       ├── app_localizations.dart    # Helper class&#10;│   │       └── README.md                 # Usage guide&#10;│   ├── main.dart                         # EasyLocalization setup&#10;│   └── app.dart                          # Localization delegates&#10;```&#10;&#10;## ⚙️ Cấu hình&#10;&#10;### 1. main.dart&#10;```dart&#10;void main() async {&#10;  WidgetsFlutterBinding.ensureInitialized();&#10;  &#10;  // Initialize EasyLocalization&#10;  await EasyLocalization.ensureInitialized();&#10;  &#10;  runApp(&#10;    EasyLocalization(&#10;      supportedLocales: const [&#10;        Locale('vi', 'VN'),  // Tiếng Việt&#10;        Locale('en', 'US'),  // English&#10;      ],&#10;      path: 'assets/translations',&#10;      fallbackLocale: const Locale('vi', 'VN'),&#10;      startLocale: const Locale('vi', 'VN'),&#10;      child: const TrekkaApp(),&#10;    ),&#10;  );&#10;}&#10;```&#10;&#10;### 2. app.dart&#10;```dart&#10;MaterialApp.router(&#10;  localizationsDelegates: context.localizationDelegates,&#10;  supportedLocales: context.supportedLocales,&#10;  locale: context.locale,&#10;  // ...&#10;)&#10;```&#10;&#10;### 3. pubspec.yaml&#10;```yaml&#10;flutter:&#10;  assets:&#10;    - assets/translations/&#10;```&#10;&#10;##  Translation Files&#10;&#10;### vi.json (Tiếng Việt)&#10;```json&#10;{&#10;  &quot;common&quot;: {&#10;    &quot;cancel&quot;: &quot;Hủy&quot;,&#10;    &quot;save&quot;: &quot;Lưu&quot;,&#10;    &quot;delete&quot;: &quot;Xóa&quot;&#10;  },&#10;  &quot;trip&quot;: {&#10;    &quot;total_time&quot;: &quot;Tổng thời gian&quot;,&#10;    &quot;total_cost&quot;: &quot;Tổng chi phí&quot;&#10;  }&#10;}&#10;```&#10;&#10;### en.json (English)&#10;```json&#10;{&#10;  &quot;common&quot;: {&#10;    &quot;cancel&quot;: &quot;Cancel&quot;,&#10;    &quot;save&quot;: &quot;Save&quot;,&#10;    &quot;delete&quot;: &quot;Delete&quot;&#10;  },&#10;  &quot;trip&quot;: {&#10;    &quot;total_time&quot;: &quot;Total Time&quot;,&#10;    &quot;total_cost&quot;: &quot;Total Cost&quot;&#10;  }&#10;}&#10;```&#10;&#10;##  Cách sử dụng&#10;&#10;### Method 1: .tr() Extension (Khuyến nghị ⭐)&#10;```dart&#10;import 'package:easy_localization/easy_localization.dart';&#10;&#10;Text('home.hello'.tr())                    // &quot;Xin chào&quot; / &quot;Hello&quot;&#10;Text('trip.total_time'.tr())               // &quot;Tổng thời gian&quot; / &quot;Total Time&quot;&#10;```&#10;&#10;### Method 2: AppLocalizations Helper&#10;```dart&#10;import 'package:trekka/core/i18n/app_localizations.dart';&#10;&#10;Text(AppLocalizations.hello)              // &quot;Xin chào&quot; / &quot;Hello&quot;&#10;Text(AppLocalizations.totalTime)          // &quot;Tổng thời gian&quot; / &quot;Total Time&quot;&#10;```&#10;&#10;### Method 3: Extension .t&#10;```dart&#10;import 'package:trekka/core/i18n/app_localizations.dart';&#10;&#10;Text('home.hello'.t)&#10;```&#10;&#10;##  Thay đổi ngôn ngữ&#10;&#10;### Trong Settings Page&#10;```dart&#10;await context.setLocale(const Locale('vi', 'VN'));  // Tiếng Việt&#10;await context.setLocale(const Locale('en', 'US'));  // English&#10;```&#10;&#10;### Kiểm tra ngôn ngữ hiện tại&#10;```dart&#10;final currentLocale = context.locale;&#10;print(currentLocale);  // Locale('vi', 'VN')&#10;```&#10;&#10;##  Các màn hình đã tích hợp&#10;&#10;### ✅ Đã hoàn thành&#10;- [x] **Bottom Navigation Bar** (trekka_bottom_bar.dart)&#10;- [x] **Settings Page** (settings_page.dart)&#10;- [x] **Trip Detail Page** (trip_detail_page.dart)&#10;- [x] **Trip Edit Page** (trip_edit_page.dart)&#10;- [x] **Add To Trip Modal** (add_to_trip_modal.dart)&#10;&#10;###  Đang triển khai&#10;- [ ] Home Page&#10;- [ ] Explore Page&#10;- [ ] Events Page&#10;- [ ] Profile Page&#10;- [ ] Auth Pages (Login, Register)&#10;- [ ] Onboarding Pages&#10;- [ ] AI Planner Form&#10;&#10;##  Translation Keys&#10;&#10;### Common Actions&#10;```&#10;common.cancel         → Hủy / Cancel&#10;common.save           → Lưu / Save&#10;common.delete         → Xóa / Delete&#10;common.edit           → Chỉnh sửa / Edit&#10;common.share          → Chia sẻ / Share&#10;common.search         → Tìm kiếm / Search&#10;common.loading        → Đang tải... / Loading...&#10;common.view_all       → Xem tất cả / View all&#10;```&#10;&#10;### Navigation&#10;```&#10;navigation.home       → Trang chủ / Home&#10;navigation.explore    → Khám phá / Explore&#10;navigation.journey    → Hành trình / Journey&#10;navigation.favorites  → Yêu thích / Favorites&#10;navigation.profile    → Hồ sơ / Profile&#10;```&#10;&#10;### Trip Management&#10;```&#10;trip.my_trips         → Hành trình của tôi / My Trips&#10;trip.create_trip      → Tạo chuyến đi / Create Trip&#10;trip.edit_trip        → Chỉnh sửa lịch trình / Edit Trip&#10;trip.delete_trip      → Xóa lịch trình / Delete Trip&#10;trip.complete_trip    → Hoàn thành chuyến đi / Complete Trip&#10;trip.total_time       → Tổng thời gian / Total Time&#10;trip.total_cost       → Tổng chi phí / Total Cost&#10;trip.timeline         → Lịch trình / Timeline&#10;```&#10;&#10;### Settings&#10;```&#10;settings.title        → Cài đặt / Settings&#10;settings.language     → Ngôn ngữ / Language&#10;settings.vietnamese   → Tiếng Việt / Vietnamese&#10;settings.english      → Tiếng Anh / English&#10;```&#10;&#10;### Destinations&#10;```&#10;destination.add_to_trip      → Thêm vào hành trình / Add to Trip&#10;destination.get_direction    → Chỉ đường / Directions&#10;destination.call             → Liên hệ / Contact&#10;```&#10;&#10;##  Best Practices&#10;&#10;### ✅ DO&#10;```dart&#10;// ✅ Good - Use translation keys&#10;Text('home.hello'.tr())&#10;Text(AppLocalizations.hello)&#10;&#10;// ✅ Good - Group related keys&#10;'trip.total_time'&#10;'trip.total_cost'&#10;```&#10;&#10;### ❌ DON'T&#10;```dart&#10;// ❌ Bad - Hardcoded text&#10;Text('Xin chào')&#10;Text('Total Time')&#10;&#10;// ❌ Bad - Unorganized keys&#10;'totalTime'&#10;'time_total'&#10;```&#10;&#10;##  Thêm Translation Mới&#10;&#10;### 1. Thêm vào vi.json&#10;```json&#10;{&#10;  &quot;new_feature&quot;: {&#10;    &quot;title&quot;: &quot;Tiêu đề mới&quot;,&#10;    &quot;description&quot;: &quot;Mô tả&quot;&#10;  }&#10;}&#10;```&#10;&#10;### 2. Thêm vào en.json&#10;```json&#10;{&#10;  &quot;new_feature&quot;: {&#10;    &quot;title&quot;: &quot;New Title&quot;,&#10;    &quot;description&quot;: &quot;Description&quot;&#10;  }&#10;}&#10;```&#10;&#10;### 3. Sử dụng trong code&#10;```dart&#10;Text('new_feature.title'.tr())&#10;```&#10;&#10;### 4. (Optional) Thêm vào AppLocalizations&#10;```dart&#10;class AppLocalizations {&#10;  static String get newFeatureTitle =&gt; 'new_feature.title'.tr();&#10;}&#10;```&#10;&#10;##  Số liệu thống kê&#10;&#10;- **Tổng số translation keys**: 100+&#10;- **Số màn hình đã tích hợp**: 5/12&#10;- **Độ phủ**: ~40%&#10;- **Ngôn ngữ hỗ trợ**: 2 (Vi, En)&#10;&#10;##  Roadmap&#10;&#10;### Phase 1 (Đã hoàn thành ✅)&#10;- [x] Setup EasyLocalization&#10;- [x] Create translation files (vi.json, en.json)&#10;- [x] Helper class (AppLocalizations)&#10;- [x] Settings page with language selector&#10;- [x] Bottom navigation bar&#10;- [x] Trip management screens&#10;&#10;### Phase 2 (Tiếp theo )&#10;- [ ] Home page&#10;- [ ] Explore page&#10;- [ ] Events page&#10;- [ ] Profile page&#10;- [ ] Auth flows&#10;&#10;### Phase 3 (Tương lai )&#10;- [ ] AI Planner&#10;- [ ] Onboarding&#10;- [ ] Error messages&#10;- [ ] Validation messages&#10;- [ ] Push notifications&#10;&#10;##  Troubleshooting&#10;&#10;### Lỗi: &quot;Target of URI doesn't exist&quot;&#10;**Giải pháp**: Chạy `flutter pub get`&#10;&#10;### Lỗi: Translation key not found&#10;**Giải pháp**: &#10;1. Kiểm tra key có tồn tại trong vi.json &amp; en.json&#10;2. Kiểm tra đường dẫn: `assets/translations/`&#10;3. Hot restart app&#10;&#10;### UI không cập nhật sau khi đổi ngôn ngữ&#10;**Giải pháp**: &#10;```dart&#10;await context.setLocale(locale);&#10;// UI sẽ tự động rebuild&#10;```&#10;&#10;##  Notes&#10;&#10;- **Fallback locale**: Nếu không tìm thấy translation trong locale hiện tại, sẽ fallback về Tiếng Việt&#10;- **Missing translations**: Sẽ hiển thị translation key thay vì crash&#10;- **Hot reload**: Hỗ trợ hot reload khi sửa translation files (cần hot restart trong một số trường hợp)&#10;&#10;##  Contributors&#10;&#10;- **Developer**: AI Assistant &amp; Trekka Team&#10;- **Last Updated**: December 12, 2025&#10;- **Version**: 1.0.0&#10;&#10;---&#10;&#10;**Tài liệu này sẽ được cập nhật liên tục khi thêm các màn hình và tính năng mới.**&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>